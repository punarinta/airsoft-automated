var az={ajaxVerbosity:2,modalCallback:null,response:null,ajaxGet:function(e,t,n){$.ajax({url:"/api/"+e+"/"+t,type:"GET",dataType:"json",success:function(e){if(e.errMsg)alert(e.errMsg);else if(n)n(e.data)}})},ajaxPost:function(e,t,n){$.ajax({url:"/api/"+e,type:"POST",dataType:"json",data:t,success:function(e){az.ajaxResult(e);if(n)n(e.data)}})},ajaxPut:function(e,t,n){$.ajax({url:"/api/"+e+"/"+t,type:"PUT",dataType:"json",data:n,success:az.ajaxResult})},ajaxDelete:function(e,t){$.ajax({url:"/api/"+e+"/"+t,type:"DELETE",dataType:"json",success:az.ajaxResult})},ajaxResult:function(e){az.response=e;if(az.ajaxVerbosity==0)return;if(az.ajaxVerbosity==1&&e.errMsg)az.showModal(e.errMsg);if(az.ajaxVerbosity==2)az.showModal(e.errMsg?e.errMsg:"Operation was successful.")},showModal:function(e,t){if(t)az.modalCallback=t;$("#modal .content").html(e);$("#modal, #modal-background").show();$("#modal button").unbind("click").click(az.hideModal).focus()},hideModal:function(){$("#modal, #modal-background").hide();if(az.modalCallback)az.modalCallback(az.response)}}